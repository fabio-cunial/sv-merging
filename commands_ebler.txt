pip install snakemake pyfaidx
gsutil cp gs://fc-secure-f7d80b48-be60-426f-aa6b-f037a1bf7f34/references/GRCh38_noalt/GCA_000001405.15_GRCh38_no_alt_analysis_set.fa ./reference.fa
gsutil cp gs://fc-secure-f7d80b48-be60-426f-aa6b-f037a1bf7f34/references/GRCh38_noalt/GCA_000001405.15_GRCh38_no_alt_analysis_set.fa.fai ./reference.fa.fai
git clone https://bitbucket.org/jana_ebler/vcf-merging.git

<copy final.vcf.gz>

gunzip -c final.vcf.gz > input.vcf
cd vcf-merging/pangenome-graph-from-callset/
rm -f config.yaml
echo "vcf: /home/jupyter/input.vcf" >> config.yaml
echo "reference: /home/jupyter/reference.fa" >> config.yaml
echo "outdir: /home/jupyter/results" >> config.yaml
snakemake -j 2
--------------------------------------------------------------------------------


			sys.stderr.write(line)



chr1    139470  chr1-139471-INS-3410    A       AGTTCAGGGCCTGGAGAGAAGGCTGGGAGGCAGGAGCTGGGTCTAAAGAGGCCATTGTAACGATGGAGCTGTGCCTGTG
GAGGCTGTTGTGAGGCAGTAGCCTCATCTGCGGAGGCTGCCGTGACGTAGGGTATGGGCCTAAATAGGCCATTGTGAGTCATGAGCTTGGTCTGTAGAGGCTGACTGGAGAAAGTTCTGGGCCTGGA
GAGGCTGCCGGGAGGTAGGAGCTGGGCCAAAAGATGTAAGCACATTTGCATTTATTAGGCACTTTATTTCCATTATTACACTGTAATATATAATAAAATAATTATAGAACTCACCATAATGTAGAAT
TAGTGGGCGTGTTAAGCTTGTTTTCCTGCAACTGGATGGTCCCACCTGAGCGTGATGGGAGAAAGTGACAGATCAATAGGTATTAGATTCTCATAAGGACAGCGCAACCTCGATCCCTCACATGCAC
GGTTCACAACAGGGTGCGTTCTCCTATGAGCATCTAATGCTGCTGCTCATCTGAGAAGGTGGAGCTCAGGCGGGAATGTGAGCAAAGGGGAGTGGCTGTAAATACAGACGAAGCTTCCCTCACTCCC
TCACTCGACACCGCTCACCTCCTGCTGTGTGGCTCCTTGCGGCTCCATGGCTCAGGGGTTGGGGACCCCTGCTCAAGTGCATCCAAAGCGACCCTTCCCACACCAGTCTTCACAGTGGTCAAGGGCA
GCAACCACTTAGCTCCCAAGGCATGTGCCTCAGCTGGCATTTCGTCACAATCAACAGTAAGTGGTAGCTTGAGTCACTGTGAGGTCACCTACTGGAAATCACCAGCACCCCATTTCCCACTGGCAAA
GAGCTCAGCACTGCCCCCTGGGAAACCAAACCTATGCCCAAATCCCATCTGTGTGGGTCTACCTCCTGGGACCCTTCCTAACATATTAGTCAGAGTCCAATCAGGAAGCATAAACCACTCAAAAGTT
TAAAGTGGTAAAATTTAATACAGAGAATTATTCATTATAACAGGTGAACAGCATAATGAGAGATTGGCTAGCACAGAGTAAAGAGAACTCTAGAGAATATGGGACTAGCCCAGGCCAGGCATGGTGG
CTCATGCCTGAAATTCCAGCCATTACAGAAGCTAATGCAGGAGGATTGCTTAAGGCCAGGAGCTAGAGACCGCTCTGGATGACACAGTGAGACCCTGTCTCTATCCAAAAGAAGAAAAAAGTTAGCT
GGGGGTGGTGGTGCACACTTGTAGTCCCAGCTACTCGGAATGCGGAAGTTTGAGCCTGGGAGGTCAAGGCTGCAGTGAGGCATGATTATGCCACTACAGTCCAGCCGGATGACAGAGCAAGACCCTG
TCTCAAAGAACAAAACCACAACAACCATTTACAGACAGAAAAGAAATAGAGCTAATAAGCTGAGGAAAGATGTTGAAATGTGACAAGTAAAGTAATATGAGGTCTTTTGTCTATTTAAAATAATCAA
ACAAAAAATGGCTTACGAAATTATAATACCCTGTGCTGGCAAAGGTGCAGTGAAATGGGCACTTTCTTATACTATGAGGGGTGTTTAAATTGTGTATAAGCCTTCCCGGGTAAAGCCTGTCAATTTT
TTAAAATAATGGAGACAGGGTCTCACCATACTGCCATACTGCCTCCTCCAACTCTTGGCCTCAAGCAATCCTCCTCTCTTAGCCTCCCAAAGTGCTAAGATTATAGCTGGGAGGCACCCAAAACCCT
GTCAATTTACATCAAGGGTAAGGAGAATGTCCATTCACCATGACTCACAGTAATCTTACTTCTGGGGAGACAATTCAATCTAAGCAAAAGGTCATCTGTACACACACAGTAAAAATCTGGGAGTAAC
TGAAGACAGAGTTGGTAAGTGAAATAAGAAACAGTTATAAGAAATTAAACTATGGTATCAATAGGCACCTGGTAAAAGGTCAGTTGATGTTAGCTGCTACTTTTTTGTTGTTTTGAGACAGGGTCTC
ACTCTGTCACCCAGGCTGGAGTGCAGAGGCCTGATCATGACTCACTGCAGTCTCAGCCTCCCTGGGCTCAAGTGATCCTCCCACCTCAGCCTCCCAAGTAGCTGGGACTACAGGAACATGCCACCAC
ACTAGGCTAATTCATGTATTTTTCTGTAGGGATGGTGACTCCCCCTTTGTTTCCAAGGCCTATCGCAAACTCTTGGCCTCAAGCCATCCTCCTGCCTCAGCCTCCCAAAGTGTTGCGATTACCAGTG
TGAGCCACCACACCTGGCCAGCTGCTACTTTTATCAATATTATTCTTATTCCACTCAATTAAAAATTATTATTTTCAAGGCTATGCAACAGTATGTATCCTACAGCGTAATTGTAAAAACATACACA
GTCGTCATCCCTCAGTATACAGAATTAGTTCCAGCCCCCCATCTCTGCATATACCAAAATCCATGCTTACTCACGTTTCGCTGTCACCCCTCTGGAATCCACGTATACGAAAATTCCAAATGTTAGT
TGGGCATAGTGGCAAGCACCTGTAGTCTCAGCCACGTGGGAGGTTGAGGTGGGAGGATCGCTTCAGCCTGGAAGGTTGAGGCTGCAGTCAGCTGCGATAGCACTACTACACTCCAGCCTTGGACAAC
AGAGGGAGACCCTGTCTCAGAAAAAAAAAACAAAATAAAACAGGTTAGAAATTGTAATGAGGTCTGCTGGGCAAAATTCCATATAAGCAAAGTATAAATTAATAAAGCAAATCGTGATAAATTAGTA
CGATTGACTTTCTGGAGTTTCTGACAATAAAAGTAAGGAAAATGCAGAACACAAAGACAGAGAGTAAAAAGAGAAATTAGGAAAGCATTCTACATGTTGAATAGGAAGACACTGGCCATGTTCGTGC
AGCGGCAGTATGTCGTGACATGACATACCTTGGAGAGAAGTTAACAGATGAGGAAGTTGATAAAAATCATCAGAGAAGCAAAATACTGGTAGCGACACTCAAGTAAACCATGAAATTTCCATAACTT
ATGTCAGCAAAGTGGGAATATTGTACAGTGTGTGTTGAAGTTCCTATACAACATTGTTTATCTGCCTTTTGTTTGTTTGTAAGGAATGTACATACTAAAAGTTCTTCTTGCTGTCAAAAGAATATGC
GTGAATAAGTCATTTTAACTTATTCTTCTGTTTTTCTTTTATCTTCCTGCCATCATCCCACAGCCTTACTTTAGAAATTTTTTTTTTAGAAAATTGAACAAGTGCTCCTTGTGGTGGCACATGCCTC
GAGGATGGGAGGCAGGGGTGGAAAGGTCACTTGAGGCCATTAGTTTGACACCAGCCTGGCCAACAAAGTGAGACCCCGTGTCTACAAAACAATTTAAAAATTAGCCAAGTATCATCATGTATACCTA
CAGTCCCAGCTACCTGAACTTACTGAGAAT  .       .       ID=chr1-139471-INS-3410;SVTYPE=INS;SVLEN=3410;TIG_REGION=h1tg004516l:86608-9001
7;QUERY_STRAND=+;HOM_REF=0,152;HOM_TIG=0,152    GT      ./.     ./.     1|0     ./.





chr1    90258   chr1-90259-INS-118      A       AGTCCCTCTGTCTCTGCCAACCAGTTAACCTGCTGCTTCCTGGAGGAAGACAGTCCCTCTGTCCCTCTGTCTCTGCCAACCAGTTAACCTGCTGCTTCCTGGAGGAAGACAGTCCCTCT       .       .       ID=chr1-90259-INS-118;SVTYPE=INS;SVLEN=118;TIG_REGION=h1tg010858l:16548-16665;QUERY_STRAND=+;HOM_REF=0,172;HOM_TIG=0,172;NumCollapsed=1;NumConsolidated=1;CollapseId=3.0      GT      0|0  0/1      0|0     1|0




---------------------------------------------
after bcftools merge:
chr1    90258   chr1-90259-INS-118      A       AGTCCCTCTGTCTCTGCCAACCAGTTAACCTGCTGCTTCCTGGAGGAAGACAGTCCCTCTGTCCCTCTGTCTCTGCCAA
CCAGTTAACCTGCTGCTTCCTGGAGGAAGACAGTCCCTCT        .       .       ID=chr1-90259-INS-118;SVTYPE=INS;SVLEN=118;TIG_REGION=h1tg01085
8l:16548-16665;QUERY_STRAND=+;HOM_REF=0,172;HOM_TIG=0,172       GT      0|0     0|0     0|0     1|0

